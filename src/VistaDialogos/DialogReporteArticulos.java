/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package VistaDialogos;

import Beans.ArticulosBO;
import Conection.Conexion;
import Model.ArticuloModel;
import Model.ModelTablaArticulos;
import static Vista.Vistaprincipal.lblNombreEmpresa;
import java.awt.event.KeyEvent;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.Map;
import javax.swing.JFrame;
import javax.swing.JOptionPane;
import javax.swing.JTextArea;
import net.sf.jasperreports.engine.JRException;
import net.sf.jasperreports.engine.JasperFillManager;
import net.sf.jasperreports.engine.JasperPrint;
import net.sf.jasperreports.engine.JasperReport;
import net.sf.jasperreports.engine.util.JRLoader;
import net.sf.jasperreports.view.JasperViewer;

/**
 *
 * @author eduardo
 */
public class DialogReporteArticulos extends javax.swing.JDialog {

    /**
     * Creates new form DialogReporteArticulos
     */
    public Conexion conexion;
    
    ArticuloModel modelo;

    public DialogReporteArticulos(java.awt.Frame parent, boolean modal) {
        super(parent, modal);
        initComponents();
        modelo = new ArticuloModel();
        
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        jDialogArticulo = new javax.swing.JDialog();
        jLabel14 = new javax.swing.JLabel();
        txtBucscararticulo = new javax.swing.JTextField();
        jScrollPane1 = new javax.swing.JScrollPane();
        jtablaArticulos = new javax.swing.JTable();
        jPanel5 = new javax.swing.JPanel();
        jRInicio = new javax.swing.JRadioButton();
        jRFinal = new javax.swing.JRadioButton();
        jrCualquier = new javax.swing.JRadioButton();
        jRexacta = new javax.swing.JRadioButton();
        AceptarArticulo = new javax.swing.JButton();
        btnCancelar = new javax.swing.JButton();
        jLabel15 = new javax.swing.JLabel();
        jPanel4 = new javax.swing.JPanel();
        btngrupoBusquedArticulo = new javax.swing.JRadioButton();
        jrDescripcion = new javax.swing.JRadioButton();
        jPanel35 = new javax.swing.JPanel();
        comboReporteArticulos = new javax.swing.JComboBox<>();
        jLabel54 = new javax.swing.JLabel();
        comboOrdenar = new javax.swing.JComboBox<>();
        comboCriterio = new javax.swing.JComboBox<>();
        btnAceptarImprimir = new javax.swing.JButton();
        btnCancelarImpresion = new javax.swing.JButton();
        jPanel1 = new javax.swing.JPanel();
        jLabel1 = new javax.swing.JLabel();
        txtDescripArtDesde = new javax.swing.JTextField();
        txtCodArtDesde = new javax.swing.JTextField();
        txtCodArtHasta = new javax.swing.JTextField();
        txtDescripArtHasta = new javax.swing.JTextField();
        jButton2 = new javax.swing.JButton();
        jButton3 = new javax.swing.JButton();
        jLabel2 = new javax.swing.JLabel();
        txtCodLineadescrip = new javax.swing.JTextField();
        txtCodLineaDesde = new javax.swing.JTextField();
        txtCodLineaHasta = new javax.swing.JTextField();
        txtCodLineadescrip2 = new javax.swing.JTextField();
        jLabel3 = new javax.swing.JLabel();
        txtCodCategoHasta = new javax.swing.JTextField();
        txtCodCategodescripHasta = new javax.swing.JTextField();
        txtCodSubLineaHasta = new javax.swing.JTextField();
        txtCodSubLineaDescriHasta = new javax.swing.JTextField();
        jLabel4 = new javax.swing.JLabel();
        txtCodSubLineaDesde = new javax.swing.JTextField();
        txtCodSubLineadescrip1 = new javax.swing.JTextField();
        txtCodCategoDesde = new javax.swing.JTextField();
        txtCodCategoDesdedescrip = new javax.swing.JTextField();
        jLabel5 = new javax.swing.JLabel();
        comboTipoStock = new javax.swing.JComboBox<>();
        jLabel6 = new javax.swing.JLabel();
        comboNivelStock = new javax.swing.JComboBox<>();
        jLabel7 = new javax.swing.JLabel();
        txtcodAlmacenDesde = new javax.swing.JTextField();
        txtcodAlmacenHasta = new javax.swing.JTextField();
        txtCodAlmacenDesdedescrip = new javax.swing.JTextField();
        txtCodAlmacenHastaDescrip = new javax.swing.JTextField();

        jDialogArticulo.setTitle("Busqueda Asistida");
        jDialogArticulo.getContentPane().setLayout(new org.netbeans.lib.awtextra.AbsoluteLayout());

        jLabel14.setText("Buscar :");
        jDialogArticulo.getContentPane().add(jLabel14, new org.netbeans.lib.awtextra.AbsoluteConstraints(10, 10, 60, -1));

        txtBucscararticulo.setToolTipText("Busqueda");
        txtBucscararticulo.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyPressed(java.awt.event.KeyEvent evt) {
                txtBucscararticuloKeyPressed(evt);
            }
        });
        jDialogArticulo.getContentPane().add(txtBucscararticulo, new org.netbeans.lib.awtextra.AbsoluteConstraints(80, 10, 360, -1));

        jtablaArticulos.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {
                {null, null, null, null},
                {null, null, null, null},
                {null, null, null, null},
                {null, null, null, null}
            },
            new String [] {
                "Title 1", "Title 2", "Title 3", "Title 4"
            }
        ));
        jScrollPane1.setViewportView(jtablaArticulos);

        jDialogArticulo.getContentPane().add(jScrollPane1, new org.netbeans.lib.awtextra.AbsoluteConstraints(10, 60, 450, 120));

        jPanel5.setBorder(javax.swing.BorderFactory.createTitledBorder("Opcion"));

        jRInicio.setText("1) Inicio");
        jRInicio.setToolTipText("Coincida al inicio");

        jRFinal.setText("2)Final");
        jRFinal.setToolTipText("Coincida al Final");

        jrCualquier.setSelected(true);
        jrCualquier.setText("3)Cualquier");
        jrCualquier.setToolTipText("Cualquier Caracter");

        jRexacta.setText("4)exacta");
        jRexacta.setToolTipText("Exacta Caracter");

        javax.swing.GroupLayout jPanel5Layout = new javax.swing.GroupLayout(jPanel5);
        jPanel5.setLayout(jPanel5Layout);
        jPanel5Layout.setHorizontalGroup(
            jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel5Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jRFinal, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addGroup(jPanel5Layout.createSequentialGroup()
                        .addComponent(jrCualquier)
                        .addGap(0, 21, Short.MAX_VALUE))
                    .addGroup(jPanel5Layout.createSequentialGroup()
                        .addComponent(jRInicio, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        .addContainerGap())
                    .addComponent(jRexacta, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)))
        );
        jPanel5Layout.setVerticalGroup(
            jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel5Layout.createSequentialGroup()
                .addComponent(jRInicio)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(jRFinal)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jrCualquier)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jRexacta)
                .addContainerGap(12, Short.MAX_VALUE))
        );

        jDialogArticulo.getContentPane().add(jPanel5, new org.netbeans.lib.awtextra.AbsoluteConstraints(10, 190, 120, 130));

        AceptarArticulo.setText("Aceptar");
        AceptarArticulo.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                AceptarArticuloActionPerformed(evt);
            }
        });
        jDialogArticulo.getContentPane().add(AceptarArticulo, new org.netbeans.lib.awtextra.AbsoluteConstraints(340, 200, 98, -1));

        btnCancelar.setText("Cancelar");
        btnCancelar.setToolTipText("Cancelar");
        jDialogArticulo.getContentPane().add(btnCancelar, new org.netbeans.lib.awtextra.AbsoluteConstraints(340, 230, 100, -1));

        jLabel15.setText("Total de Registros Encontrados");
        jDialogArticulo.getContentPane().add(jLabel15, new org.netbeans.lib.awtextra.AbsoluteConstraints(270, 260, 180, -1));

        jPanel4.setBorder(javax.swing.BorderFactory.createTitledBorder("Busqueda por:"));

        btngrupoBusquedArticulo.setSelected(true);
        btngrupoBusquedArticulo.setText("Codigo");
        btngrupoBusquedArticulo.setToolTipText("Codigo");

        jrDescripcion.setText("Descripcion");

        javax.swing.GroupLayout jPanel4Layout = new javax.swing.GroupLayout(jPanel4);
        jPanel4.setLayout(jPanel4Layout);
        jPanel4Layout.setHorizontalGroup(
            jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel4Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jrDescripcion, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addGroup(jPanel4Layout.createSequentialGroup()
                        .addComponent(btngrupoBusquedArticulo, javax.swing.GroupLayout.PREFERRED_SIZE, 95, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(0, 1, Short.MAX_VALUE)))
                .addContainerGap())
        );
        jPanel4Layout.setVerticalGroup(
            jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel4Layout.createSequentialGroup()
                .addComponent(btngrupoBusquedArticulo)
                .addGap(18, 18, 18)
                .addComponent(jrDescripcion)
                .addContainerGap(13, Short.MAX_VALUE))
        );

        jDialogArticulo.getContentPane().add(jPanel4, new org.netbeans.lib.awtextra.AbsoluteConstraints(140, 200, 120, 100));

        setDefaultCloseOperation(javax.swing.WindowConstants.DISPOSE_ON_CLOSE);
        getContentPane().setLayout(new org.netbeans.lib.awtextra.AbsoluteLayout());

        jPanel35.setBorder(new javax.swing.border.LineBorder(new java.awt.Color(0, 0, 0), 1, true));
        jPanel35.setLayout(new org.netbeans.lib.awtextra.AbsoluteLayout());

        comboReporteArticulos.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { "Articulo con su Stock po Almacen", "Artilculos", " " }));
        comboReporteArticulos.addItemListener(new java.awt.event.ItemListener() {
            public void itemStateChanged(java.awt.event.ItemEvent evt) {
                comboReporteArticulosItemStateChanged(evt);
            }
        });
        jPanel35.add(comboReporteArticulos, new org.netbeans.lib.awtextra.AbsoluteConstraints(80, 20, 270, -1));

        jLabel54.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        jLabel54.setHorizontalAlignment(javax.swing.SwingConstants.RIGHT);
        jLabel54.setText("Reporte :");
        jPanel35.add(jLabel54, new org.netbeans.lib.awtextra.AbsoluteConstraints(0, 20, 70, -1));

        comboOrdenar.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { "Codigo", "Descripcion" }));
        jPanel35.add(comboOrdenar, new org.netbeans.lib.awtextra.AbsoluteConstraints(360, 20, 80, -1));

        comboCriterio.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { "Descendente", "Ascendente" }));
        jPanel35.add(comboCriterio, new org.netbeans.lib.awtextra.AbsoluteConstraints(460, 20, 100, -1));

        getContentPane().add(jPanel35, new org.netbeans.lib.awtextra.AbsoluteConstraints(0, 0, 570, 60));

        btnAceptarImprimir.setText("Aceptar");
        btnAceptarImprimir.setToolTipText("");
        btnAceptarImprimir.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnAceptarImprimirActionPerformed(evt);
            }
        });
        getContentPane().add(btnAceptarImprimir, new org.netbeans.lib.awtextra.AbsoluteConstraints(500, 80, 80, -1));

        btnCancelarImpresion.setText("Cancelar");
        getContentPane().add(btnCancelarImpresion, new org.netbeans.lib.awtextra.AbsoluteConstraints(500, 110, 80, -1));

        jPanel1.setLayout(new org.netbeans.lib.awtextra.AbsoluteLayout());

        jLabel1.setHorizontalAlignment(javax.swing.SwingConstants.RIGHT);
        jLabel1.setText("Codigo :");
        jPanel1.add(jLabel1, new org.netbeans.lib.awtextra.AbsoluteConstraints(0, 30, 60, -1));
        jPanel1.add(txtDescripArtDesde, new org.netbeans.lib.awtextra.AbsoluteConstraints(140, 30, 120, -1));

        txtCodArtDesde.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyPressed(java.awt.event.KeyEvent evt) {
                txtCodArtDesdeKeyPressed(evt);
            }
        });
        jPanel1.add(txtCodArtDesde, new org.netbeans.lib.awtextra.AbsoluteConstraints(70, 30, 60, -1));
        jPanel1.add(txtCodArtHasta, new org.netbeans.lib.awtextra.AbsoluteConstraints(280, 30, 60, -1));
        jPanel1.add(txtDescripArtHasta, new org.netbeans.lib.awtextra.AbsoluteConstraints(350, 30, 120, -1));

        jButton2.setText("Hasta");
        jPanel1.add(jButton2, new org.netbeans.lib.awtextra.AbsoluteConstraints(270, 0, 200, -1));

        jButton3.setText("Desde");
        jPanel1.add(jButton3, new org.netbeans.lib.awtextra.AbsoluteConstraints(60, 0, 200, -1));

        jLabel2.setHorizontalAlignment(javax.swing.SwingConstants.RIGHT);
        jLabel2.setText("Linea :");
        jPanel1.add(jLabel2, new org.netbeans.lib.awtextra.AbsoluteConstraints(0, 60, 60, -1));
        jPanel1.add(txtCodLineadescrip, new org.netbeans.lib.awtextra.AbsoluteConstraints(140, 60, 120, -1));
        jPanel1.add(txtCodLineaDesde, new org.netbeans.lib.awtextra.AbsoluteConstraints(70, 60, 60, -1));
        jPanel1.add(txtCodLineaHasta, new org.netbeans.lib.awtextra.AbsoluteConstraints(280, 60, 60, -1));
        jPanel1.add(txtCodLineadescrip2, new org.netbeans.lib.awtextra.AbsoluteConstraints(350, 60, 120, -1));

        jLabel3.setText("Tipo Stock :");
        jPanel1.add(jLabel3, new org.netbeans.lib.awtextra.AbsoluteConstraints(0, 210, 60, -1));

        txtCodCategoHasta.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txtCodCategoHastaActionPerformed(evt);
            }
        });
        jPanel1.add(txtCodCategoHasta, new org.netbeans.lib.awtextra.AbsoluteConstraints(280, 120, 60, -1));
        jPanel1.add(txtCodCategodescripHasta, new org.netbeans.lib.awtextra.AbsoluteConstraints(350, 120, 120, -1));
        jPanel1.add(txtCodSubLineaHasta, new org.netbeans.lib.awtextra.AbsoluteConstraints(280, 90, 60, -1));
        jPanel1.add(txtCodSubLineaDescriHasta, new org.netbeans.lib.awtextra.AbsoluteConstraints(350, 90, 120, -1));

        jLabel4.setText("SubLinea :");
        jPanel1.add(jLabel4, new org.netbeans.lib.awtextra.AbsoluteConstraints(10, 90, 50, -1));
        jPanel1.add(txtCodSubLineaDesde, new org.netbeans.lib.awtextra.AbsoluteConstraints(70, 90, 60, -1));
        jPanel1.add(txtCodSubLineadescrip1, new org.netbeans.lib.awtextra.AbsoluteConstraints(140, 90, 120, -1));

        txtCodCategoDesde.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txtCodCategoDesdeActionPerformed(evt);
            }
        });
        jPanel1.add(txtCodCategoDesde, new org.netbeans.lib.awtextra.AbsoluteConstraints(70, 120, 60, -1));
        jPanel1.add(txtCodCategoDesdedescrip, new org.netbeans.lib.awtextra.AbsoluteConstraints(140, 120, 120, -1));

        jLabel5.setText("Categoria :");
        jPanel1.add(jLabel5, new org.netbeans.lib.awtextra.AbsoluteConstraints(0, 126, 60, -1));

        comboTipoStock.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { "          ", "Actual", "Actual Secundario", "Comprometido", "Comprometido Secundario", "Por Llegar", "Por Llegar Secundario", "Por Despachar Secundario", "Por Despachar\t", "Disponible", "Disponible Secundario" }));
        jPanel1.add(comboTipoStock, new org.netbeans.lib.awtextra.AbsoluteConstraints(70, 210, 190, -1));

        jLabel6.setText("Nivel Stock :");
        jPanel1.add(jLabel6, new org.netbeans.lib.awtextra.AbsoluteConstraints(0, 180, 60, -1));

        comboNivelStock.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { "      ", "Diferente a 0", "Igual 0", "Mayor a 0", "Menor a 0", "Mayor a punto maximo", "Menor a punto minimo", "Menor a punto Pedido", "Todos", " " }));
        jPanel1.add(comboNivelStock, new org.netbeans.lib.awtextra.AbsoluteConstraints(70, 180, 190, 20));

        jLabel7.setHorizontalAlignment(javax.swing.SwingConstants.RIGHT);
        jLabel7.setText("Almacen :");
        jPanel1.add(jLabel7, new org.netbeans.lib.awtextra.AbsoluteConstraints(4, 150, 50, -1));
        jPanel1.add(txtcodAlmacenDesde, new org.netbeans.lib.awtextra.AbsoluteConstraints(70, 150, 60, -1));
        jPanel1.add(txtcodAlmacenHasta, new org.netbeans.lib.awtextra.AbsoluteConstraints(280, 150, 60, -1));
        jPanel1.add(txtCodAlmacenDesdedescrip, new org.netbeans.lib.awtextra.AbsoluteConstraints(140, 150, 120, -1));
        jPanel1.add(txtCodAlmacenHastaDescrip, new org.netbeans.lib.awtextra.AbsoluteConstraints(350, 150, 120, -1));

        getContentPane().add(jPanel1, new org.netbeans.lib.awtextra.AbsoluteConstraints(0, 70, 480, 280));

        pack();
    }// </editor-fold>//GEN-END:initComponents

    private void comboReporteArticulosItemStateChanged(java.awt.event.ItemEvent evt) {//GEN-FIRST:event_comboReporteArticulosItemStateChanged
        // TODO add your handling code here:
        /*if (evt.getSource() == comboReporteArticulos) {
            String Seleccio = (String) comboReporteArticulos.getSelectedItem();
            if (Seleccio.equals("Articulo con su Stock po Almacen")) {

            } else {
                System.out.println("VistaDialogos.DialogReporteArticulos.comboReporteArticulosItemStateChanged()");
                JTextArea ca = new JTextArea();
                jPanel1.add(ca);
                jPanel1.setVisible(rootPaneCheckingEnabled);
            }
        }*/
    }//GEN-LAST:event_comboReporteArticulosItemStateChanged

    private void btnAceptarImprimirActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnAceptarImprimirActionPerformed
        // TODO add your handling code here:
        
        try {
            String ruta = "src/Reportes/RepStockArticulosxAlmacen.jasper";
            
            Map parametro = new HashMap();
            String  codDesde = txtCodArtDesde.getText(), codHasta = txtCodArtHasta.getText(),
                    codLineaDesde = txtCodLineaDesde.getText(),
                    codLineaHasta = txtCodLineaHasta.getText(),
                    codSubLineDesde = txtCodSubLineaDesde.getText(),
                    codSubLineaHasta = txtCodSubLineaHasta.getText(),
                    codCateDesde = txtCodCategoDesde.getText(),
                    codCateHasta = txtCodCategoHasta.getText(),
                    codAlmacendesde = txtcodAlmacenDesde.getText(),
                    codAlmacenHasta = txtcodAlmacenHasta.getText(),
                    nivelStock = null, tipoStock = "",
                    sCo_Descripcion_d = null,
                    sCo_Descripcion_h = null;

            String criterio = comboCriterio.getSelectedItem().toString().equals("Descendente") ? "DESC" : "ASC";

            if (codDesde.isEmpty() && codHasta.isEmpty()) {
                codDesde = null;
                codHasta = null;
            } else if (!codDesde.isEmpty() && codHasta.isEmpty()) {
                codHasta = null;
            } else if (codDesde.isEmpty() && !codHasta.isEmpty()) {
                codDesde = null;
            }
            System.out.println("codLineaDesde ::" +codLineaDesde );
            if (codLineaDesde.isEmpty() && codLineaHasta.isEmpty()) {
                codLineaDesde = null;
                codLineaHasta = null;
            } else if (!codLineaDesde.isEmpty() && codLineaHasta.isEmpty()) {
                codLineaHasta = null;
            } else if (codLineaDesde.isEmpty() && !codLineaHasta.isEmpty()) {
                codLineaDesde = null;
            }
            
            
            System.out.println("codLineaHasta:::" +codLineaHasta );
            if (codSubLineDesde.isEmpty() && codSubLineaHasta.isEmpty()) {
                codSubLineDesde = null;
                codSubLineaHasta = null;
            } else if (!codSubLineDesde.isEmpty() && codSubLineaHasta.isEmpty()) {
                codSubLineaHasta = null;
            } else if (codSubLineDesde.isEmpty() && !codSubLineaHasta.isEmpty()) {
                codSubLineaHasta = null;
            }
            System.out.println(" codCategoriaDesde :::" +codCateDesde);
            
            if (codCateDesde.isEmpty() && codCateHasta.isEmpty()) {
                codCateDesde = null;
                codCateHasta = null;
            } else if (!codCateDesde.isEmpty() && codCateHasta.isEmpty()) {
                codCateHasta = null;
            } else if (codCateDesde.isEmpty() && !codCateHasta.isEmpty()) {
                codCateDesde = null;
            }

            System.out.println(" Almacen  :::" + codAlmacendesde );
            if (codAlmacendesde.isEmpty() && codAlmacenHasta.isEmpty()) {
                codAlmacendesde = null;
                codAlmacenHasta = null;
            } else if (!codAlmacendesde.isEmpty() && codAlmacenHasta.isEmpty()) {
                codAlmacenHasta = null;
            } else if (codAlmacendesde.isEmpty() && !codAlmacenHasta.isEmpty()) {
                codAlmacendesde = null;
            }

//Diferente a 0
//Igual 0
//Mayor a 0
//Menor a 0
//Mayor a punto maximo
//Menor a punto minimo
//Menor a punto Pedido
//Todos
            if (comboNivelStock.getSelectedItem().toString().equals("Diferente a 0")) {
                nivelStock = "DIFE";
            } else if (comboNivelStock.getSelectedItem().toString().equals("Igual 0")) {
                nivelStock = "IAO";
            } else if (comboNivelStock.getSelectedItem().toString().equals("Mayor a 0")) {
                nivelStock = "MAY";
            } else if (comboNivelStock.getSelectedItem().toString().equals("Menor a 0")) {
                nivelStock = "MEN";
            } else if (comboNivelStock.getSelectedItem().toString().equals("Mayor a punto maximo")) {
                nivelStock = "PMAX";
            }else if (comboNivelStock.getSelectedItem().toString().equals("Menor a punto minimo")) {
                nivelStock = "PMIN";
            }else if (comboNivelStock.getSelectedItem().toString().equals("Menor a punto Pedido")) {
                nivelStock = "PPED";
            }else if (comboNivelStock.getSelectedItem().toString().equals("Todos")) {
                nivelStock = "TODO";
            }
            else if (comboNivelStock.getSelectedItem().toString().isEmpty()) {
                nivelStock = null;
            }

//             Actual
//Actual Secundario
//Comprometido
//Comprometido Secundario
//Por Llegar
//Por Llegar Secundario
//Por Despachar Secundario
//Por Despachar	
//Disponible
//Disponible Secundario
            if (comboTipoStock.getSelectedItem().toString().equals("Actual")) {
                tipoStock = "Actual";
            } else if (comboTipoStock.getSelectedItem().toString().equals("Actual Secundario")) {
                tipoStock = "Actual Secundario";
            } else if (comboTipoStock.getSelectedItem().toString().equals("Comprometido")) {
                tipoStock = "Comprometido";
            } else if (comboTipoStock.getSelectedItem().toString().equals("Comprometido Secundario")) {
                tipoStock = "Comprometido Secundario";
            } else if (comboTipoStock.getSelectedItem().toString().equals("Por Llegar")) {
                tipoStock = "Por Llegar";
            } else if (comboTipoStock.getSelectedItem().toString().equals("Por Llegar Secundario")) {
                tipoStock = "Por Llegar Secundario";
            } else if (comboTipoStock.getSelectedItem().toString().equals("Por Despachar Secundario")) {
                tipoStock = "Por Despachar Secundario";
            } else if (comboTipoStock.getSelectedItem().toString().equals("Por Despachar")) {
                tipoStock = "Por Despachar";
            } else if (comboTipoStock.getSelectedItem().toString().equals("Disponible")) {
                tipoStock = "Disponible";
            } else if (comboTipoStock.getSelectedItem().toString().equals("Disponible Secundario")) {
                tipoStock = "Disponible Secundario";
            }else if (comboTipoStock.getSelectedItem().toString().isEmpty()) {
                tipoStock = null;
            }
            System.out.println("Tipo Stock :: " +tipoStock 
                    
                             );
            parametro.put("sCo_Codigo_d", codDesde);
            parametro.put("sCo_Codigo_h", codHasta);
            parametro.put("sCo_Descripcion_d", sCo_Descripcion_d);
            parametro.put("sCo_Descripcion_h", sCo_Descripcion_h);
            parametro.put("sCo_Linea_d", codLineaDesde);
            parametro.put("sCo_Linea_h", codLineaHasta);
            parametro.put("sCo_Categoria_d", codCateDesde);
            parametro.put("sCo_Categoria_h", codCateHasta);
            parametro.put("sCo_SubLinea_d", codSubLineDesde);
            parametro.put("sCo_SubLinea_h", codSubLineaHasta);
            parametro.put("sCo_Almacen_d", codAlmacendesde);
            parametro.put("sCo_Almacen_h", codAlmacenHasta);
            parametro.put("sTipoStock", tipoStock);
            parametro.put("sCo_NivelStock", nivelStock);
            parametro.put("sCo_Sucursal", null);
            parametro.put("sCampOrderBy", comboOrdenar.getSelectedItem().toString());
            parametro.put("sDir", criterio);
            parametro.put("bHeaderRep", "0");
            JasperReport reporte = null;
                reporte = (JasperReport) JRLoader.loadObjectFromFile(ruta);
                // reporte = (JasperReport) JRLoader.loadObject(getClass().getResource(ruta))   ;
                JasperPrint jprint = JasperFillManager.fillReport(ruta, parametro, conexion.conexions());
                JasperViewer view = new JasperViewer(jprint, false);
                view.setVisible(true);
            view.setVisible(true);
        } catch (JRException ex) {
            ex.printStackTrace();
        }
    }//GEN-LAST:event_btnAceptarImprimirActionPerformed

    private void txtCodCategoHastaActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txtCodCategoHastaActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_txtCodCategoHastaActionPerformed

    private void txtCodCategoDesdeActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txtCodCategoDesdeActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_txtCodCategoDesdeActionPerformed

    private void txtCodArtDesdeKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_txtCodArtDesdeKeyPressed
        // TODO add your handling code here:
        jDialogArticulo.setSize(472, 358);
        jDialogArticulo.setLocationRelativeTo(null);
        jDialogArticulo.setVisible(true);
    }//GEN-LAST:event_txtCodArtDesdeKeyPressed

    private void txtBucscararticuloKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_txtBucscararticuloKeyPressed
        // TODO add your handling code here:
        if (evt.getKeyCode() == KeyEvent.VK_ENTER) {
            String Opcion = "0", sfieldName = "";

            if (jRInicio.isSelected()) {
                Opcion = "0";
            } else if (jRFinal.isSelected()) {
                Opcion = "1";
            } else if (jrCualquier.isSelected()) {
                Opcion = "2";
            } else if (jRexacta.isSelected()) {
                Opcion = "3";
            }
            sfieldName = (btngrupoBusquedArticulo.isSelected()) ? "co_art" : "art_des";
           
            jtablaArticulos.setModel(new ModelTablaArticulos(modelo.pObtenerListadoDatosArticulos(
                lblNombreEmpresa.getText(),//sDatabase_Name
                sfieldName,//sField_Name
                txtBucscararticulo.getText(),//Valor
                "0",// bAvanzada
                "1",//bUsaOperadorLogicoAND
                "0",//bAplica_Manejo_Lote
                "0",//sManeja_Lote
                "0",//bAplica_Manejo_Serial
                "0",//sManeja_Serial
                "0",//bAplica_EsInactivo
                "0",//sEsInactivo
                "0",//bAplica_Tipo
                "V",//sTipo=V
                "0",//bAplica_Co_Lin
                "",//sCo_Lin
                "0",//bAplica_Co_Subl
                "",//sCo_Subl
                "0",//bAplica_Co_Cat
                "",//sCo_Cat
                "0",//bAplica_Co_Color
                "",// sCo_Color=N''
                "0",//bAplica_Co_Proc=0
                "",//sCo_Proc
                "0",//bAplica_Co_Ubicacion=0
                "",//sCo_Ubicacion=N''
                "0",//bAplica_Item=0
                "",//sItem=N''
                "0",//bAplica_Ref=0
                "",//sRef=N''
                Opcion//@iOpcion
            )));
        }
    }//GEN-LAST:event_txtBucscararticuloKeyPressed

    private void AceptarArticuloActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_AceptarArticuloActionPerformed
    int selectcion = jtablaArticulos.getSelectedRow();
    ArrayList<ArticulosBO> listaarticulos;
              if (selectcion == -1) {
                JOptionPane.showMessageDialog(new JFrame(), "Debe seleccionar un Articulo", "Software", JOptionPane.INFORMATION_MESSAGE);
                return;
            }    
    listaarticulos = modelo.pObtenerListadoDatosArticulos(
                    lblNombreEmpresa.getText(),
                    "co_art",
                    jtablaArticulos.getValueAt(selectcion, 0).toString().replaceAll("\\s", ""),
                    "0",
                    "1", "0", "0", "0", "0", "0", "0",
                    /*
                 * Obligatorio tipo
                     */ "0",
                    "V",
                    "0", "", "0", "", "0", "", "0", "", "0", "", "0", "", "0", "", "0", "", "3");

    }//GEN-LAST:event_AceptarArticuloActionPerformed

    /**
     * @param args the command line arguments
     */
    public static void main(String args[]) {
        /* Set the Nimbus look and feel */
        //<editor-fold defaultstate="collapsed" desc=" Look and feel setting code (optional) ">
        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.
         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html 
         */
        try {
            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {
                if ("Nimbus".equals(info.getName())) {
                    javax.swing.UIManager.setLookAndFeel(info.getClassName());
                    break;
                }
            }
        } catch (ClassNotFoundException ex) {
            java.util.logging.Logger.getLogger(DialogReporteArticulos.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (InstantiationException ex) {
            java.util.logging.Logger.getLogger(DialogReporteArticulos.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (IllegalAccessException ex) {
            java.util.logging.Logger.getLogger(DialogReporteArticulos.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (javax.swing.UnsupportedLookAndFeelException ex) {
            java.util.logging.Logger.getLogger(DialogReporteArticulos.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        }
        //</editor-fold>

        /* Create and display the dialog */
        java.awt.EventQueue.invokeLater(new Runnable() {
            public void run() {
                DialogReporteArticulos dialog = new DialogReporteArticulos(new javax.swing.JFrame(), true);
                dialog.addWindowListener(new java.awt.event.WindowAdapter() {
                    @Override
                    public void windowClosing(java.awt.event.WindowEvent e) {
                        System.exit(0);
                    }
                });
                dialog.setVisible(true);
            }
        });
    }

    // Variables declaration - do not modify//GEN-BEGIN:variables
    public javax.swing.JButton AceptarArticulo;
    public javax.swing.JButton btnAceptarImprimir;
    public javax.swing.JButton btnCancelar;
    public javax.swing.JButton btnCancelarImpresion;
    public javax.swing.JRadioButton btngrupoBusquedArticulo;
    public javax.swing.JComboBox<String> comboCriterio;
    public javax.swing.JComboBox<String> comboNivelStock;
    public javax.swing.JComboBox<String> comboOrdenar;
    public javax.swing.JComboBox<String> comboReporteArticulos;
    public javax.swing.JComboBox<String> comboTipoStock;
    private javax.swing.JButton jButton2;
    private javax.swing.JButton jButton3;
    private javax.swing.JDialog jDialogArticulo;
    private javax.swing.JLabel jLabel1;
    private javax.swing.JLabel jLabel14;
    private javax.swing.JLabel jLabel15;
    private javax.swing.JLabel jLabel2;
    private javax.swing.JLabel jLabel3;
    private javax.swing.JLabel jLabel4;
    private javax.swing.JLabel jLabel5;
    private javax.swing.JLabel jLabel54;
    private javax.swing.JLabel jLabel6;
    private javax.swing.JLabel jLabel7;
    private javax.swing.JPanel jPanel1;
    private javax.swing.JPanel jPanel35;
    private javax.swing.JPanel jPanel4;
    private javax.swing.JPanel jPanel5;
    public javax.swing.JRadioButton jRFinal;
    public javax.swing.JRadioButton jRInicio;
    public javax.swing.JRadioButton jRexacta;
    private javax.swing.JScrollPane jScrollPane1;
    public javax.swing.JRadioButton jrCualquier;
    public javax.swing.JRadioButton jrDescripcion;
    public javax.swing.JTable jtablaArticulos;
    public javax.swing.JTextField txtBucscararticulo;
    public javax.swing.JTextField txtCodAlmacenDesdedescrip;
    public javax.swing.JTextField txtCodAlmacenHastaDescrip;
    public javax.swing.JTextField txtCodArtDesde;
    public javax.swing.JTextField txtCodArtHasta;
    public javax.swing.JTextField txtCodCategoDesde;
    public javax.swing.JTextField txtCodCategoDesdedescrip;
    public javax.swing.JTextField txtCodCategoHasta;
    public javax.swing.JTextField txtCodCategodescripHasta;
    public javax.swing.JTextField txtCodLineaDesde;
    public javax.swing.JTextField txtCodLineaHasta;
    public javax.swing.JTextField txtCodLineadescrip;
    public javax.swing.JTextField txtCodLineadescrip2;
    public javax.swing.JTextField txtCodSubLineaDescriHasta;
    public javax.swing.JTextField txtCodSubLineaDesde;
    public javax.swing.JTextField txtCodSubLineaHasta;
    public javax.swing.JTextField txtCodSubLineadescrip1;
    public javax.swing.JTextField txtDescripArtDesde;
    public javax.swing.JTextField txtDescripArtHasta;
    public javax.swing.JTextField txtcodAlmacenDesde;
    public javax.swing.JTextField txtcodAlmacenHasta;
    // End of variables declaration//GEN-END:variables
}
